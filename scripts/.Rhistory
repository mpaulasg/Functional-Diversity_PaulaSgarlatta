# mean and sd of diversity among each site for each year in each habitat type
temporal_toplot_Hill <- temporal_all_Hill %>%
group_by(Year, Habitat) %>%
summarise(
n = n(),
FD_q1_mean = mean(FD_q1),
FD_q1_sd = sd(FD_q1)
) %>%
mutate( FD_q1_se = FD_q1_sd/sqrt(n))
unique(temporal_toplot_Hill$Year)
year_colors <- c(kelp= "seagreen4", no_kelp= "seagreen2")
plot_tempo_taxo_Hill <- ggplot(temporal_toplot_Hill, mapping = aes(color=Year,  fill=Year)) +
geom_point (aes(x= Year, y= FD_q1_mean) , stat="identity", size=3) +
geom_errorbar( aes(x=Year, ymin=FD_q0_mean-FD_q0_se, ymax=FD_q0_mean+FD_q0_se),
width=0.1, size=1) +
scale_x_continuous( limits = c(2001, 2019), breaks = seq(from=2002, to=2018, by=4)  ) +
scale_y_continuous( limits = c(0,37), breaks = seq(from=0, to=35, by=5)  ) +
scale_color_manual(values=year_colors) +
scale_fill_manual(values=year_colors) +
labs(x="", y="Species richness") +
theme(panel.background=element_rect(fill="white"), panel.grid.minor = element_blank(), axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),axis.line = element_line(size = 1, colour = "black"),
axis.text = element_text(size = (14),colour = "black"), axis.title = element_text(size= (16)),
legend.position = "none")
plot_tempo_taxo_Hill
plot_tempo_taxo_Hill <- ggplot(temporal_toplot_Hill, mapping = aes(color=Year,  fill=Year)) +
geom_point (aes(x= Year, y= FD_q1_mean) , stat="identity", size=3) +
geom_errorbar( aes(x=Year, ymin=FD_q1_mean-FD_q1_se, ymax=FD_q1_mean+FD_q1_se),
width=0.1, size=1) +
scale_x_continuous( limits = c(2001, 2019), breaks = seq(from=2002, to=2018, by=4)  ) +
scale_y_continuous( limits = c(0,37), breaks = seq(from=0, to=35, by=5)  ) +
scale_color_manual(values=year_colors) +
scale_fill_manual(values=year_colors) +
labs(x="", y="Species richness") +
theme(panel.background=element_rect(fill="white"), panel.grid.minor = element_blank(), axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),axis.line = element_line(size = 1, colour = "black"),
axis.text = element_text(size = (14),colour = "black"), axis.title = element_text(size= (16)),
legend.position = "none")
plot_tempo_taxo_Hill
plot_tempo_taxo_Hill <- ggplot(temporal_toplot_Hill, mapping = aes(color=Year,  fill=Year)) +
geom_point (aes(x= Year, y= FD_q1_mean) , stat="identity", size=3) +
geom_errorbar( aes(x=Year, ymin=FD_q1_mean-FD_q1_se, ymax=FD_q1_mean+FD_q1_se),
width=0.1, size=1) +
scale_color_manual(values=year_colors) +
scale_fill_manual(values=year_colors) +
scale_x_continuous( limits = c(2001, 2019), breaks = seq(from=2002, to=2018, by=4)  ) +
scale_y_continuous( limits = c(0,37), breaks = seq(from=0, to=35, by=5)  ) +
labs(x="", y="Species richness") +
theme(panel.background=element_rect(fill="white"), panel.grid.minor = element_blank(), axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),axis.line = element_line(size = 1, colour = "black"),
axis.text = element_text(size = (14),colour = "black"), axis.title = element_text(size= (16)),
legend.position = "none")
plot_tempo_taxo_Hill
plot_tempo_taxo_Hill <- ggplot(temporal_toplot_Hill, mapping = aes(color=Year,  fill=Year)) +
geom_point (aes(x= Year, y= FD_q1_mean) , stat="identity", size=3) +
geom_errorbar( aes(x=Year, ymin=FD_q1_mean-FD_q1_se, ymax=FD_q1_mean+FD_q1_se),
width=0.1, size=1) +
scale_color_manual(values=year_colors) +
scale_fill_manual(values=year_colors) +
#scale_x_continuous( limits = c(2001, 2019), breaks = seq(from=2002, to=2018, by=4)  ) +
scale_y_continuous( limits = c(0,37), breaks = seq(from=0, to=35, by=5)  ) +
labs(x="", y="Species richness") +
theme(panel.background=element_rect(fill="white"), panel.grid.minor = element_blank(), axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),axis.line = element_line(size = 1, colour = "black"),
axis.text = element_text(size = (14),colour = "black"), axis.title = element_text(size= (16)),
legend.position = "none")
plot_tempo_taxo_Hill
plot_tempo_taxo_Hill <- ggplot(temporal_toplot_Hill, mapping = aes(color=Year,  fill=Year)) +
geom_point (aes(x= Year, y= FD_q1_mean) , stat="identity", size=3) +
geom_errorbar( aes(x=Year, ymin=FD_q1_mean-FD_q1_se, ymax=FD_q1_mean+FD_q1_se),
width=0.1, size=1) +
scale_color_manual(values=year_colors) +
scale_fill_manual(values=year_colors) +
#scale_x_continuous( limits = c(2001, 2019), breaks = seq(from=2002, to=2018, by=4)  ) +
#scale_y_continuous( limits = c(0,37), breaks = seq(from=0, to=35, by=5)  ) +
labs(x="", y="Species richness") +
theme(panel.background=element_rect(fill="white"), panel.grid.minor = element_blank(), axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),axis.line = element_line(size = 1, colour = "black"),
axis.text = element_text(size = (14),colour = "black"), axis.title = element_text(size= (16)),
legend.position = "none")
plot_tempo_taxo_Hill
plot_tempo_taxo_Hill <- ggplot(temporal_toplot_Hill, mapping = aes(color=Year,  fill=Year)) +
geom_point (aes(x= Year, y= FD_q1_mean) , stat="identity", size=3) +
geom_errorbar( aes(x=Year, ymin=FD_q1_mean-FD_q1_se, ymax=FD_q1_mean+FD_q1_se),
width=0.1, size=1) +
scale_color_manual(values=year_colors) +
#scale_fill_manual(values=year_colors) +
#scale_x_continuous( limits = c(2001, 2019), breaks = seq(from=2002, to=2018, by=4)  ) +
#scale_y_continuous( limits = c(0,37), breaks = seq(from=0, to=35, by=5)  ) +
labs(x="", y="Species richness") +
theme(panel.background=element_rect(fill="white"), panel.grid.minor = element_blank(), axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),axis.line = element_line(size = 1, colour = "black"),
axis.text = element_text(size = (14),colour = "black"), axis.title = element_text(size= (16)),
legend.position = "none")
plot_tempo_taxo_Hill
plot_tempo_taxo_Hill <- ggplot(temporal_toplot_Hill, mapping = aes(color=Year,  fill=Year)) +
geom_point (aes(x= Year, y= FD_q1_mean) , stat="identity", size=3) +
geom_errorbar( aes(x=Year, ymin=FD_q1_mean-FD_q1_se, ymax=FD_q1_mean+FD_q1_se),
width=0.1, size=1) +
#scale_color_manual(values=year_colors) +
#scale_fill_manual(values=year_colors) +
#scale_x_continuous( limits = c(2001, 2019), breaks = seq(from=2002, to=2018, by=4)  ) +
#scale_y_continuous( limits = c(0,37), breaks = seq(from=0, to=35, by=5)  ) +
labs(x="", y="Species richness") +
theme(panel.background=element_rect(fill="white"), panel.grid.minor = element_blank(), axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),axis.line = element_line(size = 1, colour = "black"),
axis.text = element_text(size = (14),colour = "black"), axis.title = element_text(size= (16)),
legend.position = "none")
plot_tempo_taxo_Hill
plot_tempo_taxo_Hill <- ggplot(temporal_toplot_Hill, mapping = aes(color=Habitat,  fill=Habitat)) +
geom_point (aes(x= Year, y= FD_q1_mean) , stat="identity", size=3) +
geom_errorbar( aes(x=Year, ymin=FD_q1_mean-FD_q1_se, ymax=FD_q1_mean+FD_q1_se),
width=0.1, size=1) +
scale_color_manual(values=year_colors) +
scale_fill_manual(values=year_colors) +
scale_x_continuous( limits = c(2001, 2019), breaks = seq(from=2002, to=2018, by=4)  ) +
scale_y_continuous( limits = c(0,37), breaks = seq(from=0, to=35, by=5)  ) +
labs(x="", y="Species richness") +
theme(panel.background=element_rect(fill="white"), panel.grid.minor = element_blank(), axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),axis.line = element_line(size = 1, colour = "black"),
axis.text = element_text(size = (14),colour = "black"), axis.title = element_text(size= (16)),
legend.position = "none")
plot_tempo_taxo_Hill
FD_kelp_Hill <- as.data.frame(FD_kelp_Hill)
Ftemporal_kelp_Hill<- kelp_metadata %>%
mutate(Habitat="kelp") %>%
left_join( rownames_to_column(FD_kelp_Hill, "Code"), by="Code" ) %>%
select(Site, Year, Habitat, FD_q0)
FD_nokelp_Hill <- as.data.frame(FD_nokelp_Hill)
Ftemporal_nokelp_Hill<- nokelp_metadata %>%
mutate(Habitat="no_kelp") %>%
left_join( rownames_to_column(FD_nokelp_Hill, "Code"), by="Code" ) %>%
select(Site, Year, Habitat, FD_q0)
# merging values for the 2 habitat types
Ftemporal_all_Hill <- bind_rows(Ftemporal_kelp_Hill, Ftemporal_nokelp_Hill )
temporal_nokelp_Hill<- nokelp_metadata %>%
mutate(Habitat="no_kelp") %>%
left_join( rownames_to_column(TD_nokelp_Hill, "Code"), by="Code" ) %>%
select(Site, Year, Habitat, FD_q1) %>%
summarise(
n = n(),
FD_q1_mean = mean(FD_q1),
FD_q1_sd = sd(FD_q1)
) %>%
mutate( FD_q1_se = FD_q1_sd/sqrt(n))
View(temporal_nokelp_Hill)
temporal_nokelp_Hill<- nokelp_metadata %>%
mutate(Habitat="no_kelp") %>%
left_join( rownames_to_column(TD_nokelp_Hill, "Code"), by="Code" ) %>%
select(Site, Year, Habitat, FD_q1) %>%
group_by(Year)
temporal_nokelp_Hill<- nokelp_metadata %>%
mutate(Habitat="no_kelp") %>%
left_join( rownames_to_column(TD_nokelp_Hill, "Code"), by="Code" ) %>%
select(Site, Year, Habitat, FD_q1) %>%
group_by(Year) %>%
summarise(
n = n(),
FD_q1_mean = mean(FD_q1),
FD_q1_sd = sd(FD_q1)
) %>%
mutate( FD_q1_se = FD_q1_sd/sqrt(n))
View(TDspatial_Hill_toplot)
View(TD_spatial)
View(TDspatial_Hill_toplot)
temporal_nokelp_Hill<- nokelp_metadata %>%
mutate(Habitat="no_kelp") %>%
left_join( rownames_to_column(TD_nokelp_Hill, "Code"), by="Code" ) %>%
select(Site, Year, Habitat, FD_q1) %>%
group_by(Year) %>%
summarise(
n = n(),
FD_q1_mean = mean(FD_q1),
FD_q1_sd = sd(FD_q1)
) %>%
mutate( FD_q1_se = FD_q1_sd/sqrt(n)) %>%
mutate( Habitat = "No_kelp", .before="Year" )
View(temporal_nokelp_Hill)
temporal_nokelp_Hill<- nokelp_metadata %>%
mutate(Habitat="No_kelp") %>%
left_join( rownames_to_column(TD_nokelp_Hill, "Code"), by="Code" ) %>%
select(Site, Year, Habitat, FD_q1, Habitat) %>%
group_by(Year) %>%
summarise(
n = n(),
FD_q1_mean = mean(FD_q1),
FD_q1_sd = sd(FD_q1)
) %>%
mutate( FD_q1_se = FD_q1_sd/sqrt(n))
temporal_nokelp_Hill<- nokelp_metadata %>%
mutate(Habitat="No_kelp")
temporal_nokelp_Hill<- nokelp_metadata %>%
mutate(Habitat="No_kelp") %>%
left_join( rownames_to_column(TD_nokelp_Hill, "Code"), by="Code" )
temporal_nokelp_Hill<- nokelp_metadata %>%
mutate(Habitat="No_kelp") %>%
left_join( rownames_to_column(TD_nokelp_Hill, "Code"), by="Code" ) %>%
select(Site, Year, Habitat, FD_q1, Habitat)
temporal_nokelp_Hill<- nokelp_metadata %>%
mutate(Habitat="No_kelp") %>%
left_join( rownames_to_column(TD_nokelp_Hill, "Code"), by="Code" ) %>%
select(Site, Year, Habitat, FD_q1, Habitat) %>%
group_by(Year) %>%
summarise(
n = n(),
FD_q1_mean = mean(FD_q1),
FD_q1_sd = sd(FD_q1)
) %>%
mutate( FD_q1_se = FD_q1_sd/sqrt(n))
temporal_nokelp_Hill<- nokelp_metadata %>%
left_join( rownames_to_column(TD_nokelp_Hill, "Code"), by="Code" ) %>%
select(Site, Year, Habitat, FD_q1, Habitat) %>%
group_by(Year) %>%
summarise(
n = n(),
FD_q1_mean = mean(FD_q1),
FD_q1_sd = sd(FD_q1)
) %>%
mutate( FD_q1_se = FD_q1_sd/sqrt(n)) %>%
mutate( Habitat = "No_kelp", .before="Year" )
temporal_nokelp_Hill<- nokelp_metadata %>%
left_join( rownames_to_column(TD_nokelp_Hill, "Code"), by="Code" ) %>%
select(Site, Year, FD_q1, Habitat) %>%
group_by(Year) %>%
summarise(
n = n(),
FD_q1_mean = mean(FD_q1),
FD_q1_sd = sd(FD_q1)
) %>%
mutate( FD_q1_se = FD_q1_sd/sqrt(n)) %>%
mutate( Habitat = "No_kelp", .before="Year" )
TD_kelp_Hill <- as.data.frame(TD_kelp_Hill)
temporal_kelp_Hill<- kelp_metadata %>%
mutate(Habitat="kelp") %>%
left_join( rownames_to_column(TD_kelp_Hill, "Code"), by="Code" ) %>%
select(Site, Year, Habitat, FD_q1) %>%
group_by(Year) %>%
summarise(
n = n(),
FD_q1_mean = mean(FD_q1),
FD_q1_sd = sd(FD_q1)
) %>%
mutate( FD_q1_se = FD_q1_sd/sqrt(n)) %>%
mutate( Habitat = "Kelp", .before="Year" )
temporal_kelp_Hill<- kelp_metadata %>%
left_join( rownames_to_column(TD_kelp_Hill, "Code"), by="Code" ) %>%
select(Site, Year, FD_q1) %>%
group_by(Year) %>%
summarise(
n = n(),
FD_q1_mean = mean(FD_q1),
FD_q1_sd = sd(FD_q1)
) %>%
mutate( FD_q1_se = FD_q1_sd/sqrt(n)) %>%
mutate( Habitat = "Kelp", .before="Year" )
TD_nokelp_Hill <- as.data.frame(TD_nokelp_Hill)
temporal_nokelp_Hill<- nokelp_metadata %>%
left_join( rownames_to_column(TD_nokelp_Hill, "Code"), by="Code" ) %>%
select(Site, Year, FD_q1, Habitat) %>%
group_by(Year) %>%
summarise(
n = n(),
FD_q1_mean = mean(FD_q1),
FD_q1_sd = sd(FD_q1)
) %>%
mutate( FD_q1_se = FD_q1_sd/sqrt(n)) %>%
mutate( Habitat = "No_kelp", .before="Year" )
TD_nokelp_Hill <- as.data.frame(TD_nokelp_Hill)
temporal_nokelp_Hill<- nokelp_metadata %>%
left_join( rownames_to_column(TD_nokelp_Hill, "Code"), by="Code" ) %>%
select(Site, Year, FD_q1, Habitat) %>%
group_by(Year) %>%
summarise(
n = n(),
FD_q1_mean = mean(FD_q1),
FD_q1_sd = sd(FD_q1)
) %>%
mutate( FD_q1_se = FD_q1_sd/sqrt(n)) %>%
mutate( Habitat = "No_kelp", .before="Year" )
temporal_nokelp_Hill<- nokelp_metadata %>%
left_join( rownames_to_column(TD_nokelp_Hill, "Code"), by="Code" ) %>%
select(Site, Year, FD_q1) %>%
group_by(Year) %>%
summarise(
n = n(),
FD_q1_mean = mean(FD_q1),
FD_q1_sd = sd(FD_q1)
) %>%
mutate( FD_q1_se = FD_q1_sd/sqrt(n)) %>%
mutate( Habitat = "No_kelp", .before="Year" )
# merging values for the 2 habitat types
temporal_all_Hill <- bind_rows(temporal_kelp_Hill, temporal_nokelp_Hill )
View(temporal_all_Hill)
year_colors <- c(kelp= "seagreen4", no_kelp= "seagreen2")
plot_tempo_taxo_Hill <- ggplot(temporal_toplot_Hill, mapping = aes(color=Habitat,  fill=Habitat)) +
geom_point (aes(x= Year, y= FD_q1_mean) , stat="identity", size=3) +
geom_errorbar( aes(x=Year, ymin=FD_q1_mean-FD_q1_se, ymax=FD_q1_mean+FD_q1_se),
width=0.1, size=1) +
scale_color_manual(values=year_colors) +
scale_fill_manual(values=year_colors) +
scale_x_continuous( limits = c(2001, 2019), breaks = seq(from=2002, to=2018, by=4)  ) +
scale_y_continuous( limits = c(0,37), breaks = seq(from=0, to=35, by=5)  ) +
labs(x="", y="Species richness") +
theme(panel.background=element_rect(fill="white"), panel.grid.minor = element_blank(), axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),axis.line = element_line(size = 1, colour = "black"),
axis.text = element_text(size = (14),colour = "black"), axis.title = element_text(size= (16)),
legend.position = "none")
plot_tempo_taxo_Hill
FD_kelp_Hill <- as.data.frame(FD_kelp_Hill)
Ftemporal_kelp_Hill<- kelp_metadata %>%
left_join( rownames_to_column(FD_kelp_Hill, "Code"), by="Code" ) %>%
select(Site, Year, FD_q1) %>%
group_by(Year) %>%
summarise(
n = n(),
FD_q1_mean = mean(FD_q1),
FD_q1_sd = sd(FD_q1)
) %>%
mutate( FD_q1_se = FD_q1_sd/sqrt(n)) %>%
mutate( Habitat = "Kelp", .before="Year" )
FD_nokelp_Hill <- as.data.frame(FD_nokelp_Hill)
Ftemporal_nokelp_Hill<- nokelp_metadata %>%
left_join( rownames_to_column(FD_nokelp_Hill, "Code"), by="Code" ) %>%
select(Site, Year, FD_q1) %>%
group_by(Year) %>%
summarise(
n = n(),
FD_q1_mean = mean(FD_q1),
FD_q1_sd = sd(FD_q1)
) %>%
mutate( FD_q1_se = FD_q1_sd/sqrt(n)) %>%
mutate( Habitat = "No_kelp", .before="Year" )
# merging values for the 2 habitat types
Ftemporal_all_Hill <- bind_rows(Ftemporal_kelp_Hill, Ftemporal_nokelp_Hill )
plot_tempo_taxo_Hill <- ggplot(temporal_all_Hill, mapping = aes(color=Habitat,  fill=Habitat)) +
geom_point (aes(x= Year, y= FD_q1_mean) , stat="identity", size=3) +
geom_errorbar( aes(x=Year, ymin=FD_q1_mean-FD_q1_se, ymax=FD_q1_mean+FD_q1_se),
width=0.1, size=1) +
scale_color_manual(values=year_colors) +
scale_fill_manual(values=year_colors) +
scale_x_continuous( limits = c(2001, 2019), breaks = seq(from=2002, to=2018, by=4)  ) +
scale_y_continuous( limits = c(0,37), breaks = seq(from=0, to=35, by=5)  ) +
labs(x="", y="Species richness") +
theme(panel.background=element_rect(fill="white"), panel.grid.minor = element_blank(), axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),axis.line = element_line(size = 1, colour = "black"),
axis.text = element_text(size = (14),colour = "black"), axis.title = element_text(size= (16)),
legend.position = "none")
plot_tempo_taxo_Hill
year_colors <- c(Kelp= "seagreen4", No_kelp= "seagreen2")
plot_tempo_taxo_Hill <- ggplot(temporal_all_Hill, mapping = aes(color=Habitat,  fill=Habitat)) +
geom_point (aes(x= Year, y= FD_q1_mean) , stat="identity", size=3) +
geom_errorbar( aes(x=Year, ymin=FD_q1_mean-FD_q1_se, ymax=FD_q1_mean+FD_q1_se),
width=0.1, size=1) +
scale_color_manual(values=year_colors) +
scale_fill_manual(values=year_colors) +
scale_x_continuous( limits = c(2001, 2019), breaks = seq(from=2002, to=2018, by=4)  ) +
scale_y_continuous( limits = c(0,37), breaks = seq(from=0, to=35, by=5)  ) +
labs(x="", y="Species richness") +
theme(panel.background=element_rect(fill="white"), panel.grid.minor = element_blank(), axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),axis.line = element_line(size = 1, colour = "black"),
axis.text = element_text(size = (14),colour = "black"), axis.title = element_text(size= (16)),
legend.position = "none")
plot_tempo_taxo_Hill
plot_tempo_taxo_Hill <- ggplot(temporal_all_Hill, mapping = aes(color=Habitat,  fill=Habitat)) +
geom_point (aes(x= Year, y= FD_q1_mean) , stat="identity", size=3) +
geom_line(aes(x= Year, y= FD_q1_mean) , stat="identity", size=2)+
geom_errorbar( aes(x=Year, ymin=FD_q1_mean-FD_q1_se, ymax=FD_q1_mean+FD_q1_se),
width=0.1, size=1) +
scale_color_manual(values=year_colors) +
scale_fill_manual(values=year_colors) +
scale_x_continuous( limits = c(2001, 2019), breaks = seq(from=2002, to=2018, by=4)  ) +
scale_y_continuous( limits = c(0,37), breaks = seq(from=0, to=35, by=5)  ) +
labs(x="", y="Species richness") +
theme(panel.background=element_rect(fill="white"), panel.grid.minor = element_blank(), axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),axis.line = element_line(size = 1, colour = "black"),
axis.text = element_text(size = (14),colour = "black"), axis.title = element_text(size= (16)),
legend.position = "none")
plot_tempo_taxo_Hill
plot_tempo_taxo_Hill <- ggplot(temporal_all_Hill, mapping = aes(color=Habitat,  fill=Habitat)) +
geom_point (aes(x= Year, y= FD_q1_mean) , stat="identity", size=3) +
geom_line(aes(x= Year, y= FD_q1_mean) , stat="identity", size=1)+
geom_errorbar( aes(x=Year, ymin=FD_q1_mean-FD_q1_se, ymax=FD_q1_mean+FD_q1_se),
width=0.1, size=1) +
scale_color_manual(values=year_colors) +
scale_fill_manual(values=year_colors) +
scale_x_continuous( limits = c(2001, 2019), breaks = seq(from=2002, to=2018, by=4)  ) +
scale_y_continuous( limits = c(0,37), breaks = seq(from=0, to=35, by=5)  ) +
labs(x="", y="Species richness") +
theme(panel.background=element_rect(fill="white"), panel.grid.minor = element_blank(), axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),axis.line = element_line(size = 1, colour = "black"),
axis.text = element_text(size = (14),colour = "black"), axis.title = element_text(size= (16)),
legend.position = "none")
plot_tempo_taxo_Hill
plot_tempo_func_Hill <- ggplot(Ftemporal_all_Hill,
mapping=aes(color = Habitat, fill = Habitat) ) +
geom_point( aes(x=Year, y=FD_q1_mean), stat="identity", size=3) +
geom_line(aes(x=Year, y=FD_q1_mean), stat="identity", size=1)+
geom_errorbar( aes(x=Year, ymin=FD_q1_mean-FD_q1_se, ymax=FD_q1_mean+FD_q1_se), width=0.4, size=0.8) +
scale_x_continuous( limits = c(2001, 2019), breaks = seq(from=2002, to=2018, by=4)  ) +
scale_y_continuous( limits = c(0,6.5), breaks = seq(from=0, to=6.5, by=0.5)  ) +
scale_color_manual(values=year_colors, name="Habitat", breaks = c("Kelp", "No_kelp"), labels=c("Kelp", "No kelp")) +
scale_fill_manual(values=year_colors, name="Habitat", breaks = c("Kelp", "No_kelp"), labels=c("Kelp", "No kelp")) +
labs(x="", y=" FD Hill Numbers(q=1)") +
theme(panel.background=element_rect(fill="white"), panel.grid.minor = element_blank(), axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),axis.line = element_line(size = 1, colour = "black"),
axis.text = element_text(size = (14),colour = "black"), axis.title = element_text(size= (16)),
legend.title = element_text(size=14), legend.text = element_text(size=14),
legend.background = element_blank(), legend.key=element_blank())
plot_tempo_func_Hill
plot_tempo_func_Hill <- ggplot(Ftemporal_all_Hill,
mapping=aes(color = Habitat, fill = Habitat) ) +
geom_point( aes(x=Year, y=FD_q1_mean), stat="identity", size=3) +
geom_line(aes(x=Year, y=FD_q1_mean), stat="identity", size=1)+
geom_errorbar( aes(x=Year, ymin=FD_q1_mean-FD_q1_se, ymax=FD_q1_mean+FD_q1_se), width=0.4, size=0.8) +
scale_x_continuous( limits = c(2001, 2019), breaks = seq(from=2002, to=2018, by=4)  ) +
scale_y_continuous( limits = c(0,6.5), breaks = seq(from=0, to=6.5, by=2)  ) +
scale_color_manual(values=year_colors, name="Habitat", breaks = c("Kelp", "No_kelp"), labels=c("Kelp", "No kelp")) +
scale_fill_manual(values=year_colors, name="Habitat", breaks = c("Kelp", "No_kelp"), labels=c("Kelp", "No kelp")) +
labs(x="", y=" FD Hill Numbers(q=1)") +
theme(panel.background=element_rect(fill="white"), panel.grid.minor = element_blank(), axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),axis.line = element_line(size = 1, colour = "black"),
axis.text = element_text(size = (14),colour = "black"), axis.title = element_text(size= (16)),
legend.title = element_text(size=14), legend.text = element_text(size=14),
legend.background = element_blank(), legend.key=element_blank())
plot_tempo_func_Hill
plot_tempo_func_Hill <- ggplot(Ftemporal_all_Hill,
mapping=aes(color = Habitat, fill = Habitat) ) +
geom_point( aes(x=Year, y=FD_q1_mean), stat="identity", size=3) +
geom_line(aes(x=Year, y=FD_q1_mean), stat="identity", size=1)+
geom_errorbar( aes(x=Year, ymin=FD_q1_mean-FD_q1_se, ymax=FD_q1_mean+FD_q1_se), width=0.4, size=0.8) +
scale_x_continuous( limits = c(2001, 2019), breaks = seq(from=2002, to=2018, by=4)  ) +
scale_y_continuous( limits = c(2,6.5), breaks = seq(from=2, to=6.5, by=2)  ) +
scale_color_manual(values=year_colors, name="Habitat", breaks = c("Kelp", "No_kelp"), labels=c("Kelp", "No kelp")) +
scale_fill_manual(values=year_colors, name="Habitat", breaks = c("Kelp", "No_kelp"), labels=c("Kelp", "No kelp")) +
labs(x="", y=" FD Hill Numbers(q=1)") +
theme(panel.background=element_rect(fill="white"), panel.grid.minor = element_blank(), axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),axis.line = element_line(size = 1, colour = "black"),
axis.text = element_text(size = (14),colour = "black"), axis.title = element_text(size= (16)),
legend.title = element_text(size=14), legend.text = element_text(size=14),
legend.background = element_blank(), legend.key=element_blank())
plot_tempo_func_Hill
plot_tempo_func_Hill <- ggplot(Ftemporal_all_Hill,
mapping=aes(color = Habitat, fill = Habitat) ) +
geom_point( aes(x=Year, y=FD_q1_mean), stat="identity", size=3) +
geom_line(aes(x=Year, y=FD_q1_mean), stat="identity", size=1)+
geom_errorbar( aes(x=Year, ymin=FD_q1_mean-FD_q1_se, ymax=FD_q1_mean+FD_q1_se), width=0.4, size=0.8) +
scale_x_continuous( limits = c(2001, 2019), breaks = seq(from=2002, to=2018, by=4)  ) +
scale_y_continuous( limits = c(4,7), breaks = seq(from=0, to=7, by=2)  ) +
scale_color_manual(values=year_colors, name="Habitat", breaks = c("Kelp", "No_kelp"), labels=c("Kelp", "No kelp")) +
scale_fill_manual(values=year_colors, name="Habitat", breaks = c("Kelp", "No_kelp"), labels=c("Kelp", "No kelp")) +
labs(x="", y=" FD Hill Numbers(q=1)") +
theme(panel.background=element_rect(fill="white"), panel.grid.minor = element_blank(), axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),axis.line = element_line(size = 1, colour = "black"),
axis.text = element_text(size = (14),colour = "black"), axis.title = element_text(size= (16)),
legend.title = element_text(size=14), legend.text = element_text(size=14),
legend.background = element_blank(), legend.key=element_blank())
plot_tempo_func_Hill
plot_tempo_func_Hill <- ggplot(Ftemporal_all_Hill,
mapping=aes(color = Habitat, fill = Habitat) ) +
geom_point( aes(x=Year, y=FD_q1_mean), stat="identity", size=3) +
geom_line(aes(x=Year, y=FD_q1_mean), stat="identity", size=1)+
geom_errorbar( aes(x=Year, ymin=FD_q1_mean-FD_q1_se, ymax=FD_q1_mean+FD_q1_se), width=0.4, size=0.8) +
scale_x_continuous( limits = c(2001, 2019), breaks = seq(from=2002, to=2018, by=4)  ) +
scale_y_continuous( limits = c(4,6), breaks = seq(from=0, to=6, by=1)  ) +
scale_color_manual(values=year_colors, name="Habitat", breaks = c("Kelp", "No_kelp"), labels=c("Kelp", "No kelp")) +
scale_fill_manual(values=year_colors, name="Habitat", breaks = c("Kelp", "No_kelp"), labels=c("Kelp", "No kelp")) +
labs(x="", y=" FD Hill Numbers(q=1)") +
theme(panel.background=element_rect(fill="white"), panel.grid.minor = element_blank(), axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),axis.line = element_line(size = 1, colour = "black"),
axis.text = element_text(size = (14),colour = "black"), axis.title = element_text(size= (16)),
legend.title = element_text(size=14), legend.text = element_text(size=14),
legend.background = element_blank(), legend.key=element_blank())
plot_tempo_func_Hill
## merging all plot into a single figure and saving as png ####
figure1a_Hill <- ( plot_spatial_taxo_Hill + plot_tempo_taxo_Hill ) / ( plot_spatial_func_Hill +  plot_tempo_func_Hill )
figure1a_Hill
## merging all plot into a single figure and saving as png ####
figure1a_Hill <- ( plot_spatial_taxo_Hill + plot_tempo_taxo_Hill ) / ( plot_spatial_func_Hill +  plot_tempo_func_Hill )
ggsave(figure1a_Hill, file=here::here("outputs/", "figure1a_Hill.png"),
height = 22, width = 25, unit = "cm" )
rm(list=ls()) # cleaning memory
# libraries
library(tidyverse)
library(here)
library(dplyr)
library(arsenal)
# traits of species from sites surveyed through years using BRUVs
# from sites with kelp
kelp_traits <- read.csv(here::here("from_paula", "TemporalBRUV_species_traits_kelp.csv"),
header = T)
head(kelp_traits)
names(kelp_traits) <- c("Species","Size", "Agg", "Position" , "Diet")
nrow(kelp_traits) # 101 sp
# from sites that never had kelp
nokelp_traits <- read.csv(here::here("from_paula", "TemporalBRUV_species_traits_no_kelp.csv"),
header = T)
head(nokelp_traits)
names(nokelp_traits) <- c("Species","Size", "Agg", "Position" , "Diet")
nrow(nokelp_traits) # 106 sp
# traits of species from UVC surveys
spatial_traits <- read.csv(here::here("from_paula", "SpatialUVC_species_traits.csv"),
header = T)
head(spatial_traits)
names(spatial_traits) <- c("Species","Size", "Agg", "Position" , "Diet")
nrow(spatial_traits) # 51 sp
k_values <- read.csv(here::here("from_paula", "fish_K_values.csv"),
header = T)
names(k_values) <- c("Species", "sstmean", "MaxSizeTL", "Diet", "Position", "Method", "Kmax", "Kmax_lowq", "Kmax_uppq")
kelp_traits <- inner_join(kelp_traits, k_values[ , c("Species", "Kmax")], by = c("Species"), all.x=TRUE)
nokelp_traits <- inner_join(nokelp_traits, k_values[ , c("Species", "Kmax")], by = c("Species"), all.x=TRUE)
spatial_traits <- inner_join(spatial_traits, k_values[ , c("Species", "Kmax")], by = c("Species"), all.x=TRUE)
View(kelp_traits)
